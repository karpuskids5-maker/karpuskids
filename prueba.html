<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Karpus Kids — Panel Maestra</title>

  <link rel="icon" href="logo/favicon.ico" type="image/x-icon">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fuente Nunito -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Chart & Icons -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

  <style>
    body { font-family: 'Nunito', sans-serif; }

    aside#sidebar {
      width: 280px;
      transition: width .25s ease, transform .25s ease;
    }
    aside#sidebar.collapsed { width: 72px; }
    aside#sidebar .label { transition: opacity .2s ease; }
    aside#sidebar.collapsed .label { opacity: 0; }
    aside#sidebar.collapsed:hover { width: 280px; }
    aside#sidebar.collapsed:hover .label { opacity: 1; }

    .sidebar-green {
      background: linear-gradient(135deg,#E8F8F0,#D0F0E0);
    }

    #layoutShell {
      transition: margin-left .25s ease;
      margin-left: 280px;
    }
    #layoutShell.sidebar-collapsed { margin-left: 72px; }

    @media (max-width: 768px) {
      #layoutShell { margin-left: 0 !important; }
      aside#sidebar { transform: translateX(-100%); }
      aside#sidebar.mobile-visible { transform: translateX(0); }
    }

    .section { display: none; }
    .section.active { display: block; }
  </style>
</head>

<body class="bg-slate-50 text-slate-800">
<div class="min-h-screen flex">

  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar-green p-4 rounded-r-3xl shadow-lg fixed inset-y-0 left-0 z-20">
    <button id="toggleSidebar"
      class="absolute -right-3 top-6 bg-white rounded-full p-1 shadow-md border text-slate-500 hover:text-green-600 hidden md:block">
      <i data-lucide="chevron-left" id="toggleSidebarIcon" class="w-4 h-4"></i>
    </button>

    <div class="flex items-center gap-3 mb-6">
      <div class="h-12 w-12 rounded-2xl bg-white/40 flex items-center justify-center shadow-lg">
        <img src="img/mundo.jpg" class="h-10 w-10 rounded-lg object-cover" alt="logo">
      </div>
      <div class="label">
        <h3 class="font-bold text-green-900">Karpus Kids</h3>
        <p class="text-xs text-green-800">Panel Maestra</p>
      </div>
    </div>

    <nav class="space-y-2 bg-white/30 p-2 rounded-xl mb-4">
      <button data-section="t-home"
        class="nav-btn w-full flex items-center gap-3 px-3 py-2 rounded-lg bg-white/40 text-green-900"
        aria-selected="true">
        <i data-lucide="home"></i><span class="label">Mis Clases</span>
      </button>

      <button data-section="t-students"
        class="nav-btn w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/40 text-green-900">
        <i data-lucide="users"></i><span class="label">Alumnos</span>
      </button>

      <button data-section="t-attendance"
        class="nav-btn w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/40 text-green-900">
        <i data-lucide="calendar-check"></i><span class="label">Asistencia</span>
      </button>
    </nav>

    <div class="mt-auto pt-4 border-t border-green-200/50">
      <div class="flex items-center gap-3 px-2">
        <div class="w-8 h-8 rounded-full bg-green-200 flex items-center justify-center font-bold text-green-700">
          M
        </div>
        <div class="label">
          <p class="text-sm font-semibold user-name-display">Maestra</p>
          <p class="text-xs text-green-800 user-email-display">maestra@karpus.local</p>
        </div>
      </div>
    </div>
  </aside>

  <!-- OVERLAY MOBILE -->
  <div id="sidebarOverlay" class="fixed inset-0 bg-black/30 z-10 hidden"></div>

  <!-- MAIN -->
  <main id="layoutShell" class="flex-1 p-6">

    <!-- Mobile topbar -->
    <div class="md:hidden flex justify-between mb-6">
      <button id="menuBtn" class="p-2 bg-white rounded shadow">
        <i data-lucide="menu"></i>
      </button>
      <h2 class="font-bold">Panel Maestra</h2>
      <div></div>
    </div>

    <!-- HOME -->
    <section id="t-home" class="section active">
      <h1 class="text-2xl font-bold mb-1">Mis Clases</h1>
      <p class="text-slate-500 mb-6">Bienvenida, <span class="user-name-display">Maestra</span></p>
      <div id="classesGrid" class="grid md:grid-cols-3 gap-6">
        <div class="col-span-full text-center text-slate-500 py-10">Cargando aulas…</div>
      </div>
    </section>

    <!-- STUDENTS -->
    <section id="t-students" class="section">
      <h1 class="text-2xl font-bold mb-6">Mis Alumnos</h1>
      <div class="bg-white rounded-xl shadow p-4 text-center text-slate-500">
        Selecciona una clase para ver alumnos
      </div>
    </section>

    <!-- ATTENDANCE -->
    <section id="t-attendance" class="section">
      <h1 class="text-2xl font-bold mb-6">Asistencia</h1>
      <div class="bg-white rounded-xl shadow p-6 text-center text-slate-500">
        Selecciona una clase para tomar asistencia
      </div>
    </section>

  </main>
</div>

<script type="module" src="js/panel_maestra.js"></script>
<script>
  lucide.createIcons();
</script>
</body>
</html>
